import{r as n,a as h,j as e,e as p,E as x}from"./index-CmxiHPa1.js";function g(){const[t,c]=n.useState({email:"",password:""}),[r,o]=n.useState(null);n.useState(!1);const l=h();n.useEffect(()=>{localStorage.getItem("admin")&&l("/admin-dashboard")},[]);const d=s=>{if(s.preventDefault(),t.email===""||t.password===""){o("Пожалуйста заполните все обьязательные поля");return}p.post(`${x.adminLogin}`,t).then(a=>{localStorage.setItem("admin",a.data.admin),l("/admin-dashboard")}).catch(a=>{o("Неверно введен email и/или пароль!")})},i=s=>{const a=s.target,m=a.type==="checkbox"?a.checked:a.value;c(u=>({...u,[a.name]:m}))};return e.jsx("div",{className:"admin-page",children:e.jsxs("div",{className:"login-form",children:[e.jsx("h2",{style:{textAlign:"center"},children:"Войти"}),e.jsxs("form",{onSubmit:d,children:[e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:r&&e.jsx("p",{className:"form-error",style:{color:"#fff",width:400,textAlign:"center"},children:r})}),e.jsx("div",{className:"form-control",children:e.jsx("input",{type:"text",name:"email",placeholder:"email",value:t.email,onChange:i})}),e.jsx("div",{className:"form-control",children:e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:t.password,onChange:i})}),e.jsx("div",{className:"login-form-control",children:e.jsx("button",{type:"submit",className:"primary-button small-btn",children:"Войти"})})]})]})})}export{g as default};
