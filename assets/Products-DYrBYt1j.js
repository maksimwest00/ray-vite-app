import{f as h,r as d,u as m,b as p,c as n,g as x,e as j,E as f,h as N,j as s,N as v,d as P,F as w}from"./index-0Ts42cdv.js";import{P as C,C as S,a as E}from"./PageImage-QI2eKChm.js";function $(){const{id:t}=h(),[a,l]=d.useState(null),[r,b]=m(),i=p(),{products:o,status:g}=n(e=>e.products),{categories:c}=n(e=>e.categories);d.useEffect(()=>{c||i(x()),j.get(`${f.getCategory}/${t}`,{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{l(e.data[0])}),o.length===0&&i(N())},[t]);const u=o.filter(e=>e.categories_id===Number(t));return s.jsxs("div",{className:"dashboard",children:[s.jsx(v,{showBtn:null}),!a&&g==="pending"&&s.jsx(P,{}),s.jsxs("div",{className:"products-page",children:[s.jsx(C,{image:a&&a.image,title:a?a.title:"Меню"}),r<1200&&a&&s.jsx("h3",{children:a.title}),s.jsxs("div",{className:"menu-container",children:[r>1200&&s.jsx(S,{categories:c}),s.jsx("div",{className:"menu-grid",children:s.jsx("div",{className:"cards-container",children:u.map(e=>s.jsx("div",{children:s.jsx(E,{product:e})},e.id))})})]})]}),s.jsx(w,{})]})}export{$ as default};
