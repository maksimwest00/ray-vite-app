import{a as h,r as t,j as e,N as p,F as x,e as j,E as g}from"./index-0Ts42cdv.js";function N(){const i=h(),[a,d]=t.useState({name:"",surname:"",email:"",password:"",phone_number:"",address:""}),[r,m]=t.useState([]);t.useEffect(()=>{localStorage.getItem("token")&&i("/dashboard")},[]);const l=(s,o)=>{const n=s.target;d(u=>({...u,[o]:n.value}))},c=s=>{s.preventDefault();let o=[];if(Object.keys(a).forEach(n=>{a[n].length===0&&o.push(n)}),o.length>0){m(o);return}m([]),j.post(`${g.signup}`,a).then(n=>{i("/signup-success")}).catch(n=>{console.log(n)})};return e.jsxs("div",{className:"signup",children:[e.jsx(p,{showBtn:"login"}),e.jsxs("div",{className:"signup-container",children:[e.jsx("h3",{children:"Регистрация"}),r.length>0&&e.jsx("div",{className:"form-error",children:"Пожалуйста заполните все обьязательные поля"}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"email",children:"Имя:"}),e.jsx("input",{id:"name",type:"name",name:"name",className:r.includes("name")?"input-error":"",placeholder:"Иван",value:a.name,onChange:s=>l(s,"name")})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"email",children:"Фамилия:"}),e.jsx("input",{id:"surname",type:"surname",name:"surname",className:r.includes("surname")?"input-error":"",placeholder:"Иванов",value:a.surname,onChange:s=>l(s,"surname")})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"email",children:"Email:"}),e.jsx("input",{id:"email",type:"email",name:"email",className:r.includes("email")?"input-error":"",placeholder:"ivan@yandex.ru",value:a.email,onChange:s=>l(s,"email")})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"password",children:"Пароль:"}),e.jsx("input",{id:"password",type:"password",name:"password",className:r.includes("password")?"input-error":"",placeholder:"••••••••••",value:a.password,onChange:s=>l(s,"password")})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"phone_number",children:"Номер телефона:"}),e.jsx("input",{id:"phone_number",type:"tel",name:"phone_number",className:r.includes("phone_number")?"input-error":"",placeholder:"+71234567890",value:a.phone_number,onChange:s=>l(s,"phone_number")})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{htmlFor:"address",children:"Адрес для доставки:"}),e.jsx("input",{id:"address",type:"address",name:"address",className:r.includes("address")?"input-error":"",placeholder:"Москва, Красная площадь, дом 1",value:a.address,onChange:s=>l(s,"address")})]}),e.jsx("div",{className:"form-buttons",children:e.jsx("button",{className:"primary-button",type:"submit",children:"Зарегистрироваться"})})]})]}),e.jsx(x,{})]})}export{N as default};
